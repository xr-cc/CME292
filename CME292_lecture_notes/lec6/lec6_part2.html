<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB R2019a"><title>Using MATLAB with Other Programming Languages</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.7999992370605px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: normal; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 13.9999990463257px; font-weight: normal; text-align: left;  }
.S2 { margin: 20px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: bold; text-align: left;  }
.S3 { margin: 15px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 17px; font-weight: bold; text-align: left;  }
.S4 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 13.9999990463257px;  }
.S5 { margin-left: 55.9999961853027px; line-height: 20.9999980926514px; min-height: 0px; text-align: left; white-space: pre-wrap;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S6 { border-left: 0.694444417953491px solid rgb(233, 233, 233); border-right: 0.694444417953491px solid rgb(233, 233, 233); border-top: 0.694444417953491px solid rgb(233, 233, 233); border-bottom: 0px none rgb(0, 0, 0); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 17.234001159668px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13.9999990463257px;  }
.S7 { border-left: 0.694444417953491px solid rgb(233, 233, 233); border-right: 0.694444417953491px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0.694444417953491px solid rgb(233, 233, 233); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 17.234001159668px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13.9999990463257px;  }
.S8 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 15px; font-weight: bold; text-align: left;  }
.S9 { border-left: 0.694444417953491px solid rgb(233, 233, 233); border-right: 0.694444417953491px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 17.234001159668px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13.9999990463257px;  }
.S10 { border-left: 0.694444417953491px solid rgb(233, 233, 233); border-right: 0.694444417953491px solid rgb(233, 233, 233); border-top: 0.694444417953491px solid rgb(233, 233, 233); border-bottom: 0.694444417953491px solid rgb(233, 233, 233); border-radius: 4px; padding: 6px 45px 4px 13px; line-height: 17.234001159668px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13.9999990463257px;  }
.S11 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 17px; font-weight: bold; text-align: left;  }
.S12 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 13.9999990463257px; font-weight: normal; text-align: left;  }
.S13 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: bold; text-align: left;  }
.S14 { margin: 10px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 15px; font-weight: bold; text-align: left;  }</style></head><body><div class = rtcContent><h1  class = 'S0'><span>Using MATLAB with Other Programming Languages</span></h1><div  class = 'S1'><span>This lecture will be demonstrated using </span><a href = "https://matlab.mathworks.com/"><span>MATLAB Online</span></a><span>. You will need to sign in to your Mathworks account (using your Stanford email).</span></div><h2  class = 'S2'><span>Calling Python from MATLAB</span></h2><h3  class = 'S3'><span>Directly call Python functionality from MATLAB</span></h3><ul  class = 'S4'><li  class = 'S5'><span>Add the </span><span style=' font-family: monospace;'>py.</span><span> prefix to the Python name to access Python libraries.</span></li></ul><div  class = 'S1'><span>Python standard library: </span><span style=' font-family: monospace;'>py.</span><span> in front of the Python function or class name</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% Calls built-in function list</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>py_list_a = py.list({</span><span style="color: rgb(160, 32, 240);">'This'</span><span>,</span><span style="color: rgb(160, 32, 240);">'is a'</span><span>,</span><span style="color: rgb(160, 32, 240);">'list'</span><span>})     </span></span></div></div></div><div  class = 'S1'><span>Available modules: </span><span style=' font-family: monospace;'>py.</span><span> in front of the Python module name followed by the Python function or class name.</span></div><h4  class = 'S8'><span>Numeric Variables</span></h4><div  class = 'S1'><span>double</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>pynum = py.math.radians(90)</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>class(pynum)</span></span></div></div></div><div  class = 'S1'><span>integer</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>pyint = py.int(intmax)</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>pyint.bit_length</span></span></div></div></div><div  class = 'S1'><span>integer array</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>arr = py.array.array(</span><span style="color: rgb(160, 32, 240);">'i'</span><span>,[int32(5),int32(1),int32(-5)])</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>arr.reverse</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>arr</span></span></div></div></div><div  class = 'S1'><span style=' font-weight: bold;'>datetime</span></div><div  class = 'S1'><span style=' font-style: italic;'>By default, a number in MATLAB is a </span><span style=' font-style: italic; font-family: monospace;'>double</span><span style=' font-style: italic;'> type. By default, a number (without a fractional part) in Python is an integer type. </span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>d = py.datetime.date(int32(2014),int32(12),int32(31))</span></span></div></div></div><h4  class = 'S8'><span>String Variables</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>F = py.os.listdir(</span><span style="color: rgb(160, 32, 240);">"/MATLAB Drive/CME292"</span><span>) </span><span style="color: rgb(34, 139, 34);">% get information about the contents of this folder</span></span></div></div></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>str = </span><span style="color: rgb(160, 32, 240);">'a string'</span><span>;</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>str(3:end)</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>pstr = py.str(str);</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>pstr(3:end)</span></span></div></div></div><div  class = 'S1'><span>backslash control character (\) </span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>py.str(sprintf(</span><span style="color: rgb(160, 32, 240);">'This is line 1 \nand line 2.'</span><span>))</span></span></div></div></div><div  class = 'S1'><span>Python treats the MATLAB character vector as a </span><span style=' font-style: italic;'>raw string</span><span> and adds a </span><span style=' font-family: monospace;'>\</span><span> character to preserve the original backslash.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>split(py.str(</span><span style="color: rgb(160, 32, 240);">'This is line 1 \nand line 2.'</span><span>)) </span><span style="color: rgb(34, 139, 34);">% without sprintf</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>split(py.str(sprintf(</span><span style="color: rgb(160, 32, 240);">'This is line 1 \nand line 2.'</span><span>)))</span></span></div></div></div><h4  class = 'S8'><span>Wrap Paragraph Text</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>T = </span><span style="color: rgb(160, 32, 240);">'This is CME 292: Advanced MATLAB for Scientific Computing, offered by Stanford ICME.'</span><span>;</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>wrapped = py.textwrap.wrap(T)</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>whos </span><span style="color: rgb(160, 32, 240);">wrapped</span></span></div></div></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>wrapped = cell(wrapped); </span><span style="color: rgb(34, 139, 34);">% convert py.list to a cell array of Python strings</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>wrapped = cellfun(@char, wrapped, </span><span style="color: rgb(160, 32, 240);">'UniformOutput'</span><span>, false); </span><span style="color: rgb(34, 139, 34);">% convert the Python strings to MATLAB strings using the char function</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>wrapped{1}</span></span></div></div></div><h4  class = 'S8'><span>Tuple</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>pStudent = py.tuple({</span><span style="color: rgb(160, 32, 240);">'Amy'</span><span>,23,</span><span style="color: rgb(160, 32, 240);">'Math'</span><span>}) </span><span style="color: rgb(34, 139, 34);">% a tuple variable</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% read element from tuple</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>pStudent(1:2)</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>pStudent{3}</span></span></div></div></div><h3  class = 'S11'><span>Change default environment of Python interpreter</span></h3><div  class = 'S1'><span>Current (default) Python environment</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>pe = pyenv </span><span style="color: rgb(34, 139, 34);">% introduced in R2019b</span></span></div></div></div><div  class = 'S12'><span>Make changes:</span></div><div  class = 'S1'><span>restart</span><span style=' font-family: monospace;'> MATLAB</span><span>, then call </span><span style=' font-family: monospace;'>pyenv('</span><span style=' font-family: monospace;'>Version',</span><span style=' font-family: monospace;'>'2.6')</span></div><h3  class = 'S11'><span>Dictionary and key word argument</span></h3><div  class = 'S1'><span style=' font-family: monospace;'>pyargs</span></div><div  class = 'S1'><span style=' font-style: italic;'>A Python keyword argument is a value preceded by an identifier. </span></div><div  class = 'S1'><span style=' font-weight: bold;'>Create dictionary variables:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>py_dict = py.dict(pyargs(</span><span style="color: rgb(160, 32, 240);">'a'</span><span>,int32(1),</span><span style="color: rgb(160, 32, 240);">'b'</span><span>,int32(2)))</span></span></div></div></div><div  class = 'S1'><span>Use loop to create dictionary contents</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>first_letter = </span><span style="color: rgb(160, 32, 240);">'A'</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span style="color: rgb(0, 0, 255);">for </span><span>i=0:10</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>  A.(char(first_letter+i)) = i;</span><span style="color: rgb(34, 139, 34);">% some equation</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span style="color: rgb(0, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>A</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>B = namedargs2cell(A) </span><span style="color: rgb(34, 139, 34);">% introduced in R2019b</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>py_dict_d = py.dict(pyargs(B{:}))</span></span></div></div></div><div  class = 'S1'><span>create a MATLAB structure and convert it to a </span><span style=' font-family: monospace;'>dict</span><span> variable</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>S = struct(</span><span style="color: rgb(160, 32, 240);">'a'</span><span>,1,</span><span style="color: rgb(160, 32, 240);">'b'</span><span>,2);</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>dict_S = py.dict(S)</span></span></div></div></div><div  class = 'S1'><span>get keys and values</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>keys(py_dict)</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>values(py_dict)</span></span></div></div></div><div  class = 'S1'><span>update dictionary</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>update(py_dict,py.dict(pyargs(</span><span style="color: rgb(160, 32, 240);">'c'</span><span>,3,</span><span style="color: rgb(160, 32, 240);">'d'</span><span>,4)))</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>disp(py_dict)</span></span></div></div><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre;"><span>py_dict{</span><span style="color: rgb(160, 32, 240);">'c'</span><span>}</span></span></div></div></div><div  class = 'S1'><span style=' font-weight: bold;'>Use in arguments for methods:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>cal = py.calendar.TextCalendar;</span></span></div></div></div><div  class = 'S12'><span>Python documentation for the function</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>py.help(</span><span style="color: rgb(160, 32, 240);">'calendar.TextCalendar.formatmonth'</span><span>)</span></span></div></div></div><div  class = 'S12'><span>Use a </span><span style=' font-family: monospace;'>pyargs</span><span> argument.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>formatmonth(cal,int32(2022),int32(1),pyargs(</span><span style="color: rgb(160, 32, 240);">'l'</span><span>,int32(2),</span><span style="color: rgb(160, 32, 240);">'w'</span><span>,int32(3)))</span></span></div></div></div><h2  class = 'S13'><span>Calling MATLAB from Python</span></h2><h4  class = 'S14'><span>Install</span><span> </span><span>MATLAB</span><span> </span><span>Engine API for</span><span> </span><span>Python</span></h4><div  class = 'S1'><a href = "https://www.mathworks.com/help/matlab/matlab_external/install-the-matlab-engine-for-python.html"><span>https://www.mathworks.com/help/matlab/matlab_external/install-the-matlab-engine-for-python.html</span></a></div><div  class = 'S1'><span style=' font-family: monospace;'>cd (fullfile(matlabroot,'extern','engines','python'))</span></div><div  class = 'S1'><span style=' font-family: monospace;'>system('python setup.py install')</span></div><div  class = 'S1'><span>Start Python, import the package :</span></div><div  class = 'S1'><span style=' font-family: monospace;'>import matlab.engine</span></div><div  class = 'S1'><span>Start a new MATLAB process </span></div><div  class = 'S1'><span style=' font-family: monospace;'>eng = matlab.engine.start_matlab()</span></div><div  class = 'S1'><span>Stop Engine</span></div><div  class = 'S1'><span style=' font-family: monospace;'>eng.quit()</span></div><h4  class = 'S8'><span>Call</span><span> </span><span>MATLAB</span><span> </span><span>Functions from</span><span> </span><span>Python</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>tf = eng.isprime(37)</span></div><div  class = 'S1'><span style=' font-family: monospace;'>print(tf)</span></div><div  class = 'S1'><span>Return Multiple Output Arguments</span></div><div  class = 'S1'><span style=' font-family: monospace;'>t = eng.gcd(100.0,80.0,nargout=3)</span></div><div  class = 'S1'><span style=' font-family: monospace;'>print(t)</span></div><h1  class = 'S0'><span>Using MATLAB with C/C++</span></h1><h2  class = 'S2'><span>Calling C/C++ from MATLAB</span></h2><div  class = 'S1'><span>Get source code example </span><span style=' font-family: monospace;'>arrayProduct.cpp</span><span>. This multiplies an array by a scalar input and returns the resulting array.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>copyfile([matlabroot </span><span style="color: rgb(160, 32, 240);">'/extern/examples/cpp_mex/arrayProduct.cpp'</span><span>],</span><span style="color: rgb(160, 32, 240);">'.'</span><span>,</span><span style="color: rgb(160, 32, 240);">'f'</span><span>)</span></span></div></div></div><div  class = 'S12'><span>You may edit the file by</span></div><div  class = 'S1'><span style=' font-family: monospace;'>edit([matlabroot '/extern/examples/cpp_mex/arrayProduct.cpp']);</span></div><div  class = 'S1'><span>Take a look at the </span><span style=' font-family: monospace;'>.cpp</span><span> file.</span></div><div  class = 'S1'><span>The usage of the file is </span><span style=' font-family: monospace;'>outMatrix = arrayProduct(multiplier, inMatrix)</span></div><div  class = 'S1'><span>Build the MEX file.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>mex </span><span style="color: rgb(160, 32, 240);">arrayProduct.cpp</span></span></div></div></div><div  class = 'S1'><span>Test</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>outMatrix = arrayProduct(2, [1,2;3,4])</span></span></div></div></div><div  class = 'S1'><span>Use </span><span style=' font-weight: bold;'>verbose</span><span> mode to display the compile and link commands and other information useful for troubleshooting.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>mex </span><span style="color: rgb(160, 32, 240);">-v -compatibleArrayDims arrayProduct.cpp</span></span></div></div></div><h2  class = 'S13'><span>Calling MATLAB from C/C++ </span></h2><div  class = 'S1'><span>Use the </span><span style=' font-family: monospace;'>feval</span><span> and </span><span style=' font-family: monospace;'>fevalAsync</span><span> member functions of the</span><span> </span><span style=' font-family: monospace;'>matlab::engine::MATLABEngine</span><span> </span><span>class to evaluate MATLAB statements using variables in the MATLAB base workspace. </span></div><div  class = 'S1'><span style=' font-family: monospace;'>#include "MatlabEngine.hpp"</span></div><div  class = 'S1'><span style=' font-family: monospace;'>// Start MATLAB engine synchronously</span></div><div  class = 'S1'><span style=' font-family: monospace;'>std::unique_ptr&lt;MATLABEngine&gt; matlabPtr = startMATLAB();</span></div><div  class = 'S1'><span style=' font-family: monospace;'>// Call MATLAB function and return result</span></div><div  class = 'S1'><span style=' font-family: monospace;'>matlab::data::Array results = matlabPtr-&gt;feval(u"func", args);</span></div><div  class = 'S1'><span>More info at </span><a href = "https://www.mathworks.com/help/matlab/matlab_external/call-matlab-functions-from-c-1.html"><span>https://www.mathworks.com/help/matlab/matlab_external/call-matlab-functions-from-c-1.html</span></a><span>.</span></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% Using MATLAB with Other Programming Languages
% This lecture will be demonstrated using <https://matlab.mathworks.com/ MATLAB 
% Online>. You will need to sign in to your Mathworks account (using your Stanford 
% email).
%% Calling Python from MATLAB
% Directly call Python functionality from MATLAB
%% 
% * Add the |py.| prefix to the Python name to access Python libraries.
%% 
% Python standard library: |py.| in front of the Python function or class name

% Calls built-in function list
py_list_a = py.list({'This','is a','list'})     
%% 
% Available modules: |py.| in front of the Python module name followed by the 
% Python function or class name.
% Numeric Variables
% double

pynum = py.math.radians(90)
class(pynum)
%% 
% integer

pyint = py.int(intmax)
pyint.bit_length
%% 
% integer array

arr = py.array.array('i',[int32(5),int32(1),int32(-5)])
arr.reverse
arr
%% 
% *datetime*
% 
% _By default, a number in MATLAB is a |double| type. By default, a number (without 
% a fractional part) in Python is an integer type. _

d = py.datetime.date(int32(2014),int32(12),int32(31))
% String Variables

F = py.os.listdir("/MATLAB Drive/CME292") % get information about the contents of this folder
%%
str = 'a string';
str(3:end)
pstr = py.str(str);
pstr(3:end)
%% 
% backslash control character (\) 

py.str(sprintf('This is line 1 \nand line 2.'))
%% 
% Python treats the MATLAB character vector as a _raw string_ and adds a |\| 
% character to preserve the original backslash.

split(py.str('This is line 1 \nand line 2.')) % without sprintf
split(py.str(sprintf('This is line 1 \nand line 2.')))
% Wrap Paragraph Text

T = 'This is CME 292: Advanced MATLAB for Scientific Computing, offered by Stanford ICME.';
wrapped = py.textwrap.wrap(T)
whos wrapped
%%
wrapped = cell(wrapped); % convert py.list to a cell array of Python strings
wrapped = cellfun(@char, wrapped, 'UniformOutput', false); % convert the Python strings to MATLAB strings using the char function
wrapped{1}
% Tuple

pStudent = py.tuple({'Amy',23,'Math'}) % a tuple variable
% read element from tuple
pStudent(1:2)
pStudent{3}
% Change default environment of Python interpreter
% Current (default) Python environment

pe = pyenv % introduced in R2019b
%% 
% Make changes:
% 
% restart| MATLAB|, then call |pyenv('Version','2.6')|
% Dictionary and key word argument
% |pyargs|
% 
% _A Python keyword argument is a value preceded by an identifier. _
% 
% *Create dictionary variables:*

py_dict = py.dict(pyargs('a',int32(1),'b',int32(2)))
%% 
% Use loop to create dictionary contents

first_letter = 'A'
for i=0:10
  A.(char(first_letter+i)) = i;% some equation
end
A
B = namedargs2cell(A) % introduced in R2019b
py_dict_d = py.dict(pyargs(B{:}))
%% 
% create a MATLAB structure and convert it to a |dict| variable

S = struct('a',1,'b',2);
dict_S = py.dict(S)
%% 
% get keys and values

keys(py_dict)
values(py_dict)
%% 
% update dictionary

update(py_dict,py.dict(pyargs('c',3,'d',4)))
disp(py_dict)
py_dict{'c'}
%% 
% *Use in arguments for methods:*

cal = py.calendar.TextCalendar;
%% 
% Python documentation for the function

py.help('calendar.TextCalendar.formatmonth')
%% 
% Use a |pyargs| argument.

formatmonth(cal,int32(2022),int32(1),pyargs('l',int32(2),'w',int32(3)))
%% Calling MATLAB from Python
% Install MATLAB Engine API for Python
% <https://www.mathworks.com/help/matlab/matlab_external/install-the-matlab-engine-for-python.html 
% https://www.mathworks.com/help/matlab/matlab_external/install-the-matlab-engine-for-python.html>
% 
% |cd (fullfile(matlabroot,'extern','engines','python'))|
% 
% |system('python setup.py install')|
%% 
% Start Python, import the package :
% 
% |import matlab.engine|
% 
% Start a new MATLAB process 
% 
% |eng = matlab.engine.start_matlab()|
% 
% Stop Engine
% 
% |eng.quit()|
% Call MATLAB Functions from Python
% |tf = eng.isprime(37)|
% 
% |print(tf)|
% 
% Return Multiple Output Arguments
% 
% |t = eng.gcd(100.0,80.0,nargout=3)|
% 
% |print(t)|
%% Using MATLAB with C/C++
%% Calling C/C++ from MATLAB
% Get source code example |arrayProduct.cpp|. This multiplies an array by a 
% scalar input and returns the resulting array.

copyfile([matlabroot '/extern/examples/cpp_mex/arrayProduct.cpp'],'.','f')
%% 
% You may edit the file by
% 
% |edit([matlabroot '/extern/examples/cpp_mex/arrayProduct.cpp']);|
%% 
% Take a look at the |.cpp| file.
% 
% The usage of the file is |outMatrix = arrayProduct(multiplier, inMatrix)|
% 
% Build the MEX file.

mex arrayProduct.cpp
%% 
% Test

outMatrix = arrayProduct(2, [1,2;3,4])
%% 
% Use *verbose* mode to display the compile and link commands and other information 
% useful for troubleshooting.

mex -v -compatibleArrayDims arrayProduct.cpp
%% Calling MATLAB from C/C++ 
% Use the |feval| and |fevalAsync| member functions of the |matlab::engine::MATLABEngine| 
% class to evaluate MATLAB statements using variables in the MATLAB base workspace. 
% 
% |#include "MatlabEngine.hpp"|
% 
% |// Start MATLAB engine synchronously|
% 
% |std::unique_ptr<MATLABEngine> matlabPtr = startMATLAB();|
% 
% |// Call MATLAB function and return result|
% 
% |matlab::data::Array results = matlabPtr->feval(u"func", args);|
% 
% More info at <https://www.mathworks.com/help/matlab/matlab_external/call-matlab-functions-from-c-1.html 
% https://www.mathworks.com/help/matlab/matlab_external/call-matlab-functions-from-c-1.html>.
##### SOURCE END #####
--></body></html>